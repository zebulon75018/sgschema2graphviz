<html>
    <body>

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"> 
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<style>  
.form-control {
    width:400px;
}
</style>
    
<h2> 
    Enter your shotgun parameter to access to the schema.
</h2>

   
<form id="getschema" >
  <div class="form-group row">
    <label class="col-4 col-form-label" for="subdomain">subdomain SG</label> 
    <div class="col-8">
      <input id="subdomain" name="subdomain" type="text" class="form-control" required="required">
    </div>
  </div>
  <div class="form-group row">
    <label for="scriptname" class="col-4 col-form-label">Script Name</label> 
    <div class="col-8">
      <input id="scriptname" name="scriptname" type="text" class="form-control" required="required">
    </div>
  </div>
  <div class="form-group row">
    <label for="scriptkey" class="col-4 col-form-label">Script Key</label> 
    <div class="col-8">
      <input id="scriptkey" name="scriptkey" type="text" class="form-control" required="required">
    </div>
  </div> 
  <div class="form-group row">
    <div class="offset-4 col-8">
      <button name="submit" type="submit" class="btn btn-primary">Submit</button>
    </div>
  </div>
</form>


<img style="display:none" id="waiting" src="https://media.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif">
   
<script>
// this is the id of the form
$("#getschema").submit(function(e) {
    $("#waiting").show();
    e.preventDefault(); // avoid to execute the actual submit of the form.

    var form = $(this);
    var url = "/getschema";
    
    $.ajax({
           type: "POST",
           url: url,
           data: form.serialize(), // serializes the form's elements.
           success: function(data)
           {
               $("#waiting").hide();
               alert(data); // show response from the php script.
           }
         });
});
</script>    
</body>
</html>

